# standalone-quorum

![Version: 0.2.1](https://img.shields.io/badge/Version-0.2.1-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 21.10.2](https://img.shields.io/badge/AppVersion-21.10.2-informational?style=flat-square)

A Helm chart for a standalone Quorum network adapted from https://github.com/ConsenSys/quorum-kubernetes/tree/master/playground/kubectl/quorum-go/ibft

## Requirements

- [helm 3](https://helm.sh/docs/intro/install/)

## IMPORTANT NOTES

This is an adapted copy of [https://github.com/ConsenSys/quorum-kubernetes/tree/89bddb3d01342f0e336d908de392b62bb8230bc5/playground/kubectl/quorum-go/ibft](https://github.com/ConsenSys/quorum-kubernetes/tree/89bddb3d01342f0e336d908de392b62bb8230bc5/playground/kubectl/quorum-go/ibft) with 3 member and 4 validator nodes.

The copy is being used to package the helm chart and publish it in the repo.

## Changelog

- From 0.1.x to 0.2.x
    - The 3 Member nodes (consisting of validator node and transaction manager Tessera) will not be deployed by default anymore.
    You can re-enable deployment of 3 members nodes by setting `config.members.enabled` to `true`.

## Usage

- [Here](./README.md#values) is a full list of all configuration values.
- The [values.yaml file](./values.yaml) shows the raw view of all configuration values.

### Quick install with internal services of type ClusterIP

This helm chart installs the Playground environment for a Quorum Cluster with static configuration values.

Install to namespace `quorum`

```bash
helm upgrade quorum ph-ethadapter/standalone-quorum --version=0.2.1 \
    --install \
    --namespace=quorum --create-namespace \
    --set config.storage.size="10Gi" \
    --set config.storage.type=pvc

```

### Additional helm options

Run `helm upgrade --helm` for full list of options.

1. Wait until installation has finished successfully and the deployment is up and running.

    Provide the `--wait` argument and time to wait (default is 5 minutes) via `--timeout`

    ```bash
    helm upgrade quorum ph-ethadapter/standalone-quorum --version=0.2.1 \
        --install \
        --wait --timeout=1200s \
        --namespace=quorum --create-namespace \
        --set config.storage.size="10Gi" \
        --set config.storage.type=pvc
       
    ```

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| config.members.deploy | bool | `false` | Boolean flag whether 3 "member nodes" running a validator and transaction manager Tessera will be deployed or not. |
| config.storage.class | string | `""` | The storageClass (only needed if type is pvc) If type is pvc and class is empty string "" then Kubernetes will use the default storage class defined at cluster level |
| config.storage.size | string | `"2Gi"` | Size of storage |
| config.storage.type | string | `"local"` | Type of storage Either pvc or local (local=emptyDir) |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.5.0](https://github.com/norwoodj/helm-docs/releases/v1.5.0)
